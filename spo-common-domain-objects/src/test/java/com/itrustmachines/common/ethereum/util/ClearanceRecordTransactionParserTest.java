package com.itrustmachines.common.ethereum.util;

import static org.assertj.core.api.Assertions.assertThat;

import org.junit.jupiter.api.Test;

public class ClearanceRecordTransactionParserTest {
  
  @Test
  public void test_parse_1() {
    String input = "0x28e8e220000000000000000000000000000000000000000000000000000000000000003962d4b3e53164ac90f3c0f07a4b5bf0b63fa4a8e18950ddb14c1d1a9e0b7f47d200000000000000000000000000000000000000000000000000000000000000c8000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000610a5b49544d2c52483a363264346233653533313634616339306633633066303761346235626630623633666134613865313839353064646231346331643161396530623766343764322c54533a313630333935323638343132392c434f3a35375d00000000000000000000000000000000000000000000000000000000000000";
    final String description = ClearanceRecordTransactionParser.parseDescription(input);
    assertThat(description).isNotNull()
                           .isEqualTo(
                               "[ITM,RH:62d4b3e53164ac90f3c0f07a4b5bf0b63fa4a8e18950ddb14c1d1a9e0b7f47d2,TS:1603952684129,CO:57]");
  }
  
  @Test
  public void test_parse_2() {
    String input = "0x28e8e220000000000000000000000000000000000000000000000000000000000000040b08550de3f5c2c2b3c7b8d01e6e25c76602a6b3352603935963fe4c96d86a606200000000000000000000000000000000000000000000000000000000000000c8000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000630a5b49544d2c52483a303835353064653366356332633262336337623864303165366532356337363630326136623333353236303339333539363366653463393664383661363036322c54533a313630333935333539353238342c434f3a313033355d0000000000000000000000000000000000000000000000000000000000";
    final String description = ClearanceRecordTransactionParser.parseDescription(input);
    assertThat(description).isNotNull()
                           .startsWith("[ITM,RH:");
  }
  
}